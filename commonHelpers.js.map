{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"45296804-0fb55f0e1381bd4cbf585a7a5\";\n\nexport function fetchImages(query) {\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,  \n    });\n\n    return fetch(`${URL}?${params.toString()}`)\n    .then(response => {\n        if (!response.ok) {\n            throw new Error(response.statusText)\n        }\n        return response.json();\n    })\n\n.catch(error => {\n    console.error(\"Image Search Error:\", error);\n    throw error;\n});\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryList = document.querySelector(\".gallery-list\");\n\nexport function renderImages(images) {\n    const markup = images\n    .map(({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n    })=> `\n    <li>\n    <a href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\"/>\n        </a>\n        <div class=\"text-wrapper\">\n    <div class=\"stat\"><p><b>Likes:</b> ${likes}</p></div>\n    <div class=\"stat\"><p><b>Views:</b> ${views}</p> </div>\n    <div class=\"stat\"><p><b>Comments:</b> ${comments}</p></div>\n    <div class=\"stat\"><p><b>Downloads:</b> ${downloads}</p></div>\n        </div>\n    </li>\n    `\n) \n.join('');\n\ngalleryList.insertAdjacentHTML(\"beforeend\", markup);\n\nnew SimpleLightbox ('.gallery-list a', {\n    captionsData:\"alt\",\n    captionsDelay: 250\n}).refresh();\n}\n\nexport function clearGallery() {\n    galleryList.innerHTML = '';\n}\n\nexport function showLoader() {\n    document.querySelector('.loader').classList.remove('hidden');\n}\n\nexport function hideLoader() {\n    document.querySelector('.loader').classList.add('hidden');\n}","import {fetchImages} from './js/pixabay-api';\nimport {\n    renderImages,\n    clearGallery,\n    showLoader,\n    hideLoader, \n} from './js/render-functions.js';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\nconst form = document.querySelector(\".form-search\");\n\nform.addEventListener(\"submit\", event => {\n    event.preventDefault();\n    const queryInput = event.currentTarget.elements.query;\n    const query = queryInput.value.trim().toLowerCase();\n\n\n    if(!query) { \n        iziToast.error({\n            message: 'Please enter a search query!',\n            position: 'topRight',\n        });\n        return;\n    }\n\n\nclearGallery();\nshowLoader();\n\nfetchImages(query)\n.then(data => {\n    if(data.hits.length === 0) {\n        iziToast.error({\nmessage: \n\"Sorry, there are no images matching your search query. Please try again!\",\nposition: 'topRight',\n        });\n    } else {\n        renderImages(data.hits);\n    }\n})\n.catch(error => {\n    iziToast.error({ title: 'Error', message: error.message });\n})\n.finally(() => {\n    hideLoader();\n    queryInput.value = '';\n});\n});"],"names":["URL","API_KEY","fetchImages","query","params","response","error","galleryList","renderImages","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","clearGallery","showLoader","hideLoader","form","event","queryInput","iziToast","data"],"mappings":"6vBAAA,MAAMA,EAAM,2BACNC,EAAU,qCAET,SAASC,EAAYC,EAAO,CAC/B,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGH,CAAG,IAAII,EAAO,SAAU,CAAA,EAAE,EACzC,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,OAAOA,EAAS,MACxB,CAAK,EAEJ,MAAMC,GAAS,CACZ,cAAQ,MAAM,sBAAuBA,CAAK,EACpCA,CACV,CAAC,CACD,CCrBA,MAAMC,EAAc,SAAS,cAAc,eAAe,EAEnD,SAASC,EAAaC,EAAQ,CACjC,MAAMC,EAASD,EACd,IAAI,CAAC,CACF,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAS;AAAA;AAAA,eAEML,CAAa;AAAA,oBACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,yCAGLC,CAAK;AAAA,yCACLC,CAAK;AAAA,4CACFC,CAAQ;AAAA,6CACPC,CAAS;AAAA;AAAA;AAAA,KAItD,EACC,KAAK,EAAE,EAERV,EAAY,mBAAmB,YAAaG,CAAM,EAElD,IAAIQ,EAAgB,kBAAmB,CACnC,aAAa,MACb,cAAe,GACnB,CAAC,EAAE,QAAO,CACV,CAEO,SAASC,GAAe,CAC3BZ,EAAY,UAAY,EAC5B,CAEO,SAASa,GAAa,CACzB,SAAS,cAAc,SAAS,EAAE,UAAU,OAAO,QAAQ,CAC/D,CAEO,SAASC,GAAa,CACzB,SAAS,cAAc,SAAS,EAAE,UAAU,IAAI,QAAQ,CAC5D,CCrCA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAElDA,EAAK,iBAAiB,SAAUC,GAAS,CACrCA,EAAM,eAAc,EACpB,MAAMC,EAAaD,EAAM,cAAc,SAAS,MAC1CpB,EAAQqB,EAAW,MAAM,KAAM,EAAC,YAAW,EAGjD,GAAG,CAACrB,EAAO,CACPsB,EAAS,MAAM,CACX,QAAS,+BACT,SAAU,UACtB,CAAS,EACD,MACH,CAGLN,IACAC,IAEAlB,EAAYC,CAAK,EAChB,KAAKuB,GAAQ,CACPA,EAAK,KAAK,SAAW,EACpBD,EAAS,MAAM,CACvB,QACA,2EACA,SAAU,UACV,CAAS,EAEDjB,EAAakB,EAAK,IAAI,CAE9B,CAAC,EACA,MAAMpB,GAAS,CACZmB,EAAS,MAAM,CAAE,MAAO,QAAS,QAASnB,EAAM,OAAO,CAAE,CAC7D,CAAC,EACA,QAAQ,IAAM,CACXe,IACAG,EAAW,MAAQ,EACvB,CAAC,CACD,CAAC"}